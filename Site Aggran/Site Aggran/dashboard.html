<!DOCTYPE html>
<html lang="pt-br">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>DashBoard</title>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      <link rel="stylesheet" href="style.css" />
   </head>
   <style>
      canvas {
         width: 50% !important;
         height: 300px !important;
         margin-bottom: 30px;
      }
   </style>

   <body class="dashboard-body">

      <div class="sidebar">
         <div class="navbar">
            <a href="homepage.html"><img src="./Assets/logo_footer.png" alt="Logo_aggran"></a>
   
            <ul>
               <li><a href=""><span></span>Manual de Instalação</a></li>
               <li><a href=""><span></span>Jira</a></li>
            </ul>
         </div>

         <div class="profile-options">
            <button><i class="fa-solid fa-user"></i>  Acessar Perfil</button>
            <button>
               <i class="fa-solid fa-arrow-right-from-bracket"></i>
            </button>
         </div>
      </div>


      <div id="dash">
         <div class="ola">
            <div>Olá, Fernando Brandão.</div>
         </div>
         <div class="kpis" id="div_kpis">
            <div class="kpi" id="H_abaixo">
                  <h1>Hectares abaixo do ideal:</h1>
                  <p>2</p>
            </div>
            <div class="kpi" id="H_risco">
                  <h1>Hectares em risco/queda:</h1>
                  <p>2</p>
            </div>
            <div class="kpi" id="H_estável">
                  <h1>Hectares estáveis:</h1>
                  <p>6</p>
            </div>
         </div>

         <div class="sessão_dash">
            <div class="botoes_dash">
         <div class="sessão_dash">
               <!-- <button onclick="trocar(${idHectar})">H${idHectar}</button> -->
               <button onclick="trocar(2)">H2</button>
               <button onclick="trocar([40, 5, 20])">H3</button>
               <button onclick="">H4</button>
               <button onclick="">H5</button>
               <button onclick="">H6</button>
               <button onclick="">H7</button>
               <button onclick="">H8</button>
               <button onclick="">H9</button>
               <button onclick="">H10</button>
               
            </div>
         </div>

         <div class="container_dash" id="grafico_geral">
            <canvas id="graficoAcimaGeral"></canvas>
            <canvas id="graficoAbaixoGeral"></canvas>
         </div>

         <div class="container_dash" id="grafico_sensor" style="display: none">
            <canvas id="graficoAcimaSensor"></canvas>
            <canvas id="graficoAbaixoSensor"></canvas>
         </div>
      </div>


        
      
   </body>

   <script>

      

      var graficoAcima = null

      graficoAcima = new Chart(document.getElementById("graficoAcimaGeral"), {
         type: "bar",
         data: {
            labels: ["Sensor 1", "Sensor 2"],
            datasets: [
               {
                  label: "Umidade dos Hectares Acima de 20%",
                  data: [30, 30],
                  backgroundColor: "rgba(188, 10, 10, 0.943)",
                  borderColor: "rgba(188, 10, 10, 0.943)",
                  borderWidth: 1,
               },
            ],
         },
         options: {
            scales: { y: { beginAtZero: true, max: 100 } },
         },
      });


      var graficoAbaixo = null

      // function trocar(id) {

      //    fetch(`/buscar/${id}`)
      //    .then(resposta)
      //    .then(dados => {
      //       graficoAbaixo.data.datasets[0].data = dados;
      //       graficoAbaixo.update();
      //    })
      // };

      graficoAbaixo = new Chart(document.getElementById("graficoAbaixoGeral"), {
         type: "bar",
         data: {
            labels: ["Sensor 3", "Sensor 4"],
            datasets: [
               {
                  label: "Umidade dos Hectares Abaixo de 20%",
                  data: [15, 18],
                  backgroundColor: "rgba(188, 10, 10, 0.943)",
                  borderColor: "rgba(188, 10, 10, 0.943)",
                  borderWidth: 1,
               },
            ],
         },
         options: {
            scales: { y: { beginAtZero: true, max: 100 } },
         },
      });
      


   </script>
</html>